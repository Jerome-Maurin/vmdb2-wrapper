Simple wrapper for vmdb2, to build armhf & arm64 board images for SD-card using u-boot Debian packages, flash-kernel and Debian kernels.

Install right version of vmdb2 to use (see yaml file suffix).

Extra packages needed for cross-compile build (use of qemu-debootstrap in yaml, default):

qemu-user-static binfmt-support

Extra package for ansible use:

ansible

vmdb2 command example (working per yaml file example command on first line comment):

sudo vmdb2 board.yaml --output board.img --rootfs-tarball release_architecture_rootfs.tgz --log=stderr

For Ansible use vmdb2-ansible.yaml.exemple as a starting point, create a file named vmdb2-ansible.yaml to write a playbook that will be used by vmdb2

If you face any issue when running the built image, try removing the corresponding cache file *.tbz and rebuilding the image

HOW-TO add a the support for a new board:
FIXME
Is the card supported by flash kernel ?
If not, ..., comment the rm of /etc/flash-kernel/machine, if not kernel update wont work
Same if flash-kernel cannot retrieve the card's name by looking in /proc/device-tree/model
For example in case something else than U-Boot is used as bootloader
FIXME
